# Благотворительный фонд для сбора пожертвований

Это приложение для благотворительного фонда поддержки котиков, позволяющее
собирать пожертвования на различные целевые проекты.

## Описание проекта

Фонд собирает пожертвования для помощи кошкам. Пожертвования распределяются по
принципу First In, First Out (FIFO), чтобы сначала закрывать наиболее старые
открытые проекты. Администраторы создают проекты, а пользователи могут делать
пожертвования.

## Установка

1. Клонируйте репозиторий командой ```git clone <repository_url>```, затем
   перейдите в директорию с проектом.

2. Создайте и активируйте виртуальное окружение:
    ```bash
    python -m venv venv
    source venv/bin/activate  # На Windows используйте `venv\Scripts\activate`
    ```

3. Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```

4. Настройте переменные окружения, создайте файл `.env` в корне проекта и
   добавьте необходимые переменные:
    ```env
    APP_TITLE=Благотворительный фонд
    DESCRIPTION=Благотворительный фонд для сбора пожертвований
    DATABASE_URL=sqlite+aiosqlite:///./fastapi.db
    SECRET=YOUR_SECRET
    FIRST_SUPERUSER_EMAIL=admin@a.aa
    FIRST_SUPERUSER_PASSWORD=admin
    ```

## Запуск приложения

1. Примените миграции для настройки базы данных:
    ```bash
    alembic upgrade head
    ```

2. Убедитесь, что `alembic.ini` указывает правильный путь для `DATABASE_URL`.

3. Запустите приложение:
    ```bash
    uvicorn app.main:app --reload
    ```

## Документация API

Документация доступна по адресу `/docs`

## Права пользователей

- **Любой посетитель** может просматривать список всех проектов.
- **Суперпользователи** могут создавать, изменять и удалять проекты, если в них
  нет внесённых средств.
- **Зарегистрированные пользователи** могут делать пожертвования и
  просматривать свои пожертвования.

## Инвестирование

Процесс "инвестирования" запускается при создании нового проекта или
пожертвования. Неинвестированные суммы пожертвований автоматически
распределяются на открытые проекты.
